(this["webpackJsonpexamboi-front"]=this["webpackJsonpexamboi-front"]||[]).push([[0],{111:function(t,e,n){},120:function(t,e,n){"use strict";n.r(e);var s=n(0),a=n.n(s),i=n(13),o=n.n(i),r=(n(111),n(91)),c=n(12),l=n(92),h=n(176),u=n(174),p=n(57),d=n(21),j=n(22),m=n(24),f=n(23),x=n(28),b=n(16),g=n(159),O=n(164),v=n(160),y=n(165),S=n(96),k=n(5),w=n(179),T=n(162),C=n(69),q=n.n(C),N=n(70),D=n.n(N),I=n(71),B=n.n(I),M=n(68),E=n.n(M),z=n(67),_=n.n(z),A=n(161),R=n(89),W=n.n(R),L=n(2),J=Object(k.a)({root:{height:"50px",width:"50px"}})(_.a),P=Object(k.a)({root:{height:"50px",width:"50px"}})(E.a),F=function(t){Object(m.a)(n,t);var e=Object(f.a)(n);function n(t){var s;Object(d.a)(this,n),(s=e.call(this,t)).shuffle=function(t){for(var e=t.length-1;e>0;e--){var n=Math.floor(Math.random()*(e+1)),s=t[e];t[e]=t[n],t[n]=s}};var a={};return s.props.data.options.forEach((function(t){a[t.toString()]=!1})),s.state={wrong:"",correct:"",checked:-1,answer:a,solutionButtonText:"View Solution",tag:s.props.data.tag,type:s.props.data.type},s}return Object(j.a)(n,[{key:"toggleSolution",value:function(){"View Solution"===this.state.solutionButtonText?this.setState({solutionButtonText:"Hide Solution"}):this.setState({solutionButtonText:"View Solution"})}},{key:"chex",value:function(){var t=this;console.log("checking");var e=0;return!0===this.state.answer[this.props.data.answer.toString()]&&(e=1),Object.keys(this.state.answer).forEach((function(n){console.log(n,t.state.answer[n]),!0===t.state.answer[n]&&n!==t.props.data.answer.toString()&&(e=2)})),this.setState((function(e){return{answer:Object(b.a)(Object(b.a)({},e.answer),{},Object(x.a)({},t.props.data.answer.toString(),!0))}})),this.setState({correct:this.props.classes.green}),this.setState({wrong:this.props.classes.red}),this.setState({checked:e}),e}},{key:"componentDidMount",value:function(){var t=this;if("live"===this.props.Type){var e={exam:this.props.name,question:this.props.data._id};fetch("https://questrom.herokuapp.com/submissions/",{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},credentials:"include",crossDomain:!0,body:JSON.stringify(e)}).then((function(t){return t.json()})).then((function(e){e?t.setState((function(t){return{answer:Object(b.a)(Object(b.a)({},t.answer),{},Object(x.a)({},e.ans,!0))}}),(function(){t.setState({checked:3}),t.props.loaded(t.props.data.text)})):t.props.loaded(t.props.data.text)}))}else this.props.loaded(this.props.data.text)}},{key:"handleChange",value:function(t,e){var n=this;if(-1===this.state.checked)if("question"===this.props.Type)this.setState((function(t){return{answer:Object(b.a)(Object(b.a)({},t.answer),{},Object(x.a)({},e,!n.state.answer[e]))}}),(function(){console.log("done!"),n.chex()}));else if("live"===this.props.Type){this.state.checked=4,this.setState((function(t){return{answer:Object(b.a)(Object(b.a)({},t.answer),{},Object(x.a)({},e,!n.state.answer[e]))}}),(function(){}));var s={exam:this.props.name,question:this.props.data._id,ans:e};fetch("https://questrom.herokuapp.com/submissions/",{method:"put",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},credentials:"include",crossDomain:!0,body:JSON.stringify(s)}).then((function(t){return t.json()})).then((function(t){t?n.setState({checked:3}):n.setState((function(t){return{answer:Object(b.a)(Object(b.a)({},t.answer),{},Object(x.a)({},e,!n.state.answer[e]))}}),(function(){n.setState({checked:-1})}))}))}else"practice"===this.props.Type&&this.setState((function(t){return{answer:Object(b.a)(Object(b.a)({},t.answer),{},Object(x.a)({},e,!n.state.answer[e]))}}),(function(){}))}},{key:"getResultIcons",value:function(){return-1===this.state.checked?"":1===this.state.checked?Object(L.jsx)(q.a,{className:this.props.classes.green}):2===this.state.checked?Object(L.jsx)(D.a,{className:this.props.classes.red}):0===this.state.checked?Object(L.jsx)(B.a,{className:this.props.classes.yellow}):3===this.state.checked?Object(L.jsx)(W.a,{className:this.props.classes.yellow}):void 0}},{key:"getSolutonClass",value:function(){return"question"===this.props.Type||"practice"===this.props.Type&&-1!==this.state.checked?"":this.props.classes.hide}},{key:"addToDeck",value:function(){}},{key:"getExamName",value:function(){if("question"===this.props.Type)return this.props.data.exam}},{key:"updateTag",value:function(t){t.preventDefault();var e=this.props.data;e.tag=this.state.tag,e.type=this.state.type,console.log(e),fetch("https://questrom.herokuapp.com/questions/"+this.props.data._id,{method:"put",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},credentials:"include",crossDomain:!0,body:JSON.stringify(e)}).then((function(t){return t.json()})).then((function(t){console.log(t)}))}},{key:"questionImage",value:function(){return void 0!==this.props.data.image?Object(L.jsx)("img",{src:this.props.data.image,alt:"",srcset:""}):""}},{key:"render",value:function(){var t=this;return Object(L.jsxs)(g.a,{className:this.props.classes.root,children:[Object(L.jsxs)(v.a,{children:[Object(L.jsxs)(S.a,{className:this.props.classes.title,color:"textSecondary",gutterBottom:!0,children:[this.props.id,this.getResultIcons(),this.getExamName(),"question"===this.props.Type&&this.props.data.tags.map((function(t,e){return Object(L.jsx)("span",{children:t},e)}))]}),Object(L.jsxs)(S.a,{variant:"h6",component:"h2",className:this.props.classes.question,children:[this.questionImage(),this.props.data.text]}),this.props.data.options.map((function(e,n){return Object(L.jsxs)("div",{children:[Object(L.jsx)(A.a,{}),Object(L.jsxs)("b",{children:[n," "]}),Object(L.jsx)(T.a,{control:Object(L.jsx)(w.a,{checked:t.state.answer[e.toString()],icon:Object(L.jsx)(J,{}),checkedIcon:Object(L.jsx)(P,{className:e.toString()===t.props.data.answer.toString()?t.state.correct:t.state.wrong}),onChange:function(n){t.handleChange(n,e.toString())}}),label:Object(L.jsxs)("div",{children:[e[0],""!==e[1]?Object(L.jsx)("img",{src:e[1],alt:"alt ?"}):""]})},n)]})})),Object(L.jsxs)("div",{className:"View Solution"===this.state.solutionButtonText?this.props.classes.hide:this.props.classes.solution,children:[this.props.data.solution[0],""!==this.props.data.solution[1]?Object(L.jsx)("img",{src:this.props.data.solution[1],alt:"hudae"}):""]})]}),Object(L.jsxs)(O.a,{style:{flex:1,justifyContent:"center"},className:this.getSolutonClass(),children:[Object(L.jsx)(y.a,{variant:"outlined",onClick:function(){return t.toggleSolution()},children:this.state.solutionButtonText}),Object(L.jsx)(y.a,{variant:"outlined",onClick:function(){return t.chex()},children:"Add to deck"})]}),Object(L.jsxs)("form",{children:["CHAPTER: ",Object(L.jsx)("input",{type:"text",name:"",id:"",value:this.state.tag,onChange:function(e){t.setState({tag:e.target.value})}}),"TYPE: ",Object(L.jsx)("input",{type:"text",value:this.state.type,onChange:function(e){t.setState({type:e.target.value})}}),Object(L.jsx)("input",{type:"button",value:"Update",onClick:function(e){return t.updateTag(e)}})]})]})}}]),n}(s.Component),V=Object(k.a)((function(t){return{root:{minWidth:275,margin:15,overflowX:"scroll","&:hover":{boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"},paddingBottom:"10px",fontSize:"10px"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14,marginBottom:"25px"},question:{marginBottom:"25px"},hide:{display:"none"},red:{color:"red"},green:{color:"#00ff00"},yellow:{color:"black"},largeIcon:{width:60,height:60}}}))(F),H=function(t){Object(m.a)(n,t);var e=Object(f.a)(n);function n(){var t;Object(d.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).state={questions:[]},t.getData=function(){fetch("https://questrom.herokuapp.com/questions",{credentials:"include",crossDomain:!0}).then((function(t){return t.json()})).then((function(e){t.setState({questions:e}),console.log(e)}))},t}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.getData()}},{key:"callback",value:function(t){console.log(t)}},{key:"render",value:function(){return Object(L.jsx)("div",{id:"content",style:{display:"flex"},children:this.state.questions.length>0&&this.state.questions.map((function(t,e){return Object(L.jsx)(V,{data:t,type:"question"},t._id)}))})}}]),n}(s.Component),U=n(72),Y=n.n(U),G=n(90),K=n(171),X=n(172),Q=n(177),Z=n(170),$=n(169),tt=(n(166),n(180)),et=n(178),nt=n(167),st=n(168);function at(t){return Object(L.jsx)(et.a,Object(b.a)({elevation:6,variant:"filled"},t))}var it=function(t){Object(m.a)(n,t);var e=Object(f.a)(n);function n(t){var s;return Object(d.a)(this,n),(s=e.call(this,t)).loaded=function(t){s.cnt++,s.cnt===s.state.questions.length&&(s.setState({loading:!1}),s.state.time<=0&&s.handle())},s.setState({}),s.state={exam:"test exam",questions:[],time:10,refs:[],handled:!1,correct:0,wrong:0,dialogOpen:!1,loading:!0,examType:"practice",xmRnd:0},s.cnt=0,s}return Object(j.a)(n,[{key:"setStateSynchronous",value:function(t){var e=this;return new Promise((function(n){e.setState(t,(function(){return n()}))}))}},{key:"componentDidMount",value:function(){var t=this;this.setState({exam:this.props.match.params.id}),fetch("https://questrom.herokuapp.com/exams/"+this.props.match.params.id,{credentials:"include",crossDomain:!0}).then((function(t){return t.json()})).then(function(){var e=Object(G.a)(Y.a.mark((function e(n){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setStateSynchronous({examType:n.type});case 2:return e.next=4,t.setStateSynchronous({time:Math.floor((n.endTime-(new Date).getTime())/1e3)});case 4:return e.next=6,t.setStateSynchronous({xmEnd:n.xm_end});case 6:t.setState({questions:n.questions},(function(){for(var e=[],s=0;s<n.questions.length;s++)e.push(a.a.createRef());console.log(t.state.questions),t.setState({refs:e})})),t.state.timer=setInterval((function(){return t.setState((function(t){return{time:t.time-1}}),(function(){t.state.time<=0&&(clearInterval(t.state.timer),t.handle())}))}),1e3);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"handle",value:function(){if(this.setState({dialogOpen:!1}),this.cnt===this.state.questions.length)if(this.state.handled)console.log("already handled");else if(console.log("handle submit"),!("live"===this.state.examType&&(new Date).getTime()<this.state.xmEnd)){for(var t=0,e=0,n=0;n<this.state.refs.length;n++){var s=this.state.refs[n].current.chex();console.log(n,s),1===s?t++:2===s&&e++}this.setState({handled:!0}),clearInterval(this.state.timer),this.setState({correct:t}),this.setState({wrong:e})}}},{key:"f",value:function(t){return 1===t.length?"0"+t:t}},{key:"getTime",value:function(){var t=this.state.time;t<=0&&(t=0);var e=Math.floor(t/3600);t%=3600;var n=Math.floor(t/60);return t%=60,this.f(e.toString())+":"+this.f(n.toString())+":"+this.f(t.toString())}},{key:"handleClose",value:function(){this.setState({dialogOpen:!1})}},{key:"handleOpen",value:function(){this.setState({dialogOpen:!0})}},{key:"handleSnackbarClose",value:function(){this.setState({snackbar:!1})}},{key:"getSubmitBtn",value:function(){var t=this;return"live"===this.state.examType?"":Object(L.jsx)(y.a,{variant:"outlined",onClick:function(){return t.handleOpen()},children:"Submit"})}},{key:"render",value:function(){var t=this;return Object(L.jsxs)("div",{children:[Object(L.jsx)(nt.a,{className:this.props.classes.backdrop,open:this.state.loading,children:Object(L.jsx)(st.a,{color:"inherit"})}),Object(L.jsxs)(Q.a,{open:this.state.dialogOpen,keepMounted:!0,onClose:function(){return t.handleClose()},fullWidth:!0,maxWidth:"md",children:[Object(L.jsx)($.a,{id:"alert-dialog-slide-title",children:"Are you sure?"}),Object(L.jsxs)(Z.a,{style:{flex:1,justifyContent:"center"},children:[Object(L.jsx)(y.a,{variant:"outlined",onClick:function(){return t.handleClose()},children:"No"}),Object(L.jsx)(y.a,{variant:"outlined",onClick:function(){return t.handle()},children:"Yes"})]})]}),Object(L.jsx)(K.a,{position:"fixed",className:this.props.classes.root,children:Object(L.jsxs)(X.a,{style:{flex:1,justifyContent:"space-between"},children:[Object(L.jsx)(S.a,{className:this.props.classes.timer,children:this.getTime()}),this.getSubmitBtn()]})}),Object(L.jsxs)("div",{className:this.props.classes.questions,children:[Object(L.jsx)(g.a,{className:this.state.handled?this.props.classes.result:this.props.classes.hide,children:Object(L.jsxs)(v.a,{children:[Object(L.jsx)(S.a,{variant:"h6",component:"h2",className:this.props.classes.question,children:"RESULT"}),Object(L.jsxs)(S.a,{color:"textSecondary",children:["CORRECT: ",this.state.correct]}),Object(L.jsxs)(S.a,{color:"textSecondary",children:["WRONG: ",this.state.wrong]}),Object(L.jsxs)(S.a,{color:"textSecondary",children:["MARKS: ",this.state.correct-.25*this.state.wrong,"/",this.state.questions.length]})]})}),Object(L.jsx)("div",{children:this.state.questions.length>0&&this.state.questions.map((function(e,n){return Object(L.jsx)(V,{loaded:t.loaded,data:e,id:n+1,Type:t.state.examType,ref:t.state.refs[n],name:t.props.match.params.id},e._id)}))})]}),Object(L.jsx)(tt.a,{open:this.state.snackbar,autoHideDuration:6e3,onClose:function(){return t.handleSnackbarClose()},children:Object(L.jsx)(at,{severity:"info",children:"Exam Started!"})})]})}}]),n}(s.Component),ot=Object(k.a)((function(t){return{root:{width:"100%",backgroundColor:"rgba(10,10,10,0.5)",color:"white"},questions:{marginTop:"20px",margin:"auto",maxWidth:800},timer:{fontSize:20},result:{marginTop:"80px",margin:15,textAlign:"center"},hide:{display:"none"},backdrop:{zIndex:t.zIndex.drawer+1,color:"#fff"}}}))(it),rt=function(t){Object(m.a)(n,t);var e=Object(f.a)(n);function n(t){var s;return Object(d.a)(this,n),(s=e.call(this,t)).state={time:0,timer:null,duration:0},s}return Object(j.a)(n,[{key:"getStartingTime",value:function(){return new Date(this.props.data.start).toLocaleString()}},{key:"getEndingTime",value:function(){return new Date(this.props.data.end).toLocaleString()}},{key:"take",value:function(){window.location="/exam/"+this.props.data.name}},{key:"componentDidMount",value:function(){var t=this;this.setState({time:Math.floor((this.props.data.start-(new Date).getTime())/1e3)}),this.setState({duration:this.props.data.duration}),this.state.timer=setInterval((function(){return t.setState((function(t){return{time:t.time-1}}),(function(){t.state.time<=0&&clearInterval(t.state.timer)}))}),1e3)}},{key:"f",value:function(t){return 1===t.length?"0"+t:t}},{key:"getTime",value:function(t){var e=t;e<=0&&(e=0);var n=Math.floor(e/3600);e%=3600;var s=Math.floor(e/60);return e%=60,this.f(n.toString())+":"+this.f(s.toString())+":"+this.f(e.toString())}},{key:"leaderboard",value:function(){window.location="/result/"+this.props.data.name+".html"}},{key:"render",value:function(){var t=this;return Object(L.jsxs)(g.a,{className:this.props.classes.root,children:[Object(L.jsxs)(v.a,{children:[Object(L.jsx)(S.a,{className:this.props.classes.title,color:"textSecondary",gutterBottom:!0,children:this.props.data.tags.map((function(t,e){return Object(L.jsxs)("span",{children:[t,"\xa0"]},e)}))}),Object(L.jsx)(S.a,{variant:"h6",component:"h2",className:this.props.classes.question,children:this.props.data.name}),Object(L.jsx)("b",{children:"Start:"})," ",this.getStartingTime(),Object(L.jsx)("p",{}),Object(L.jsx)("b",{children:"End:"})," ",this.getEndingTime(),Object(L.jsx)("p",{}),Object(L.jsx)("b",{children:"Duration:"})," ",this.getTime(this.state.duration),Object(L.jsx)("p",{}),Object(L.jsx)("b",{children:"Before start:"})," ",this.getTime(this.state.time)]}),Object(L.jsxs)(O.a,{style:{flex:1,justifyContent:"center"},children:[Object(L.jsx)(y.a,{variant:"outlined",onClick:function(){return t.take()},children:"Enter"}),Object(L.jsx)(y.a,{variant:"outlined",onClick:function(){console.log(t.state.time)},children:"Leaderboard"})]})]})}}]),n}(s.Component),ct=Object(k.a)((function(t){return{root:{height:"100%","&:hover":{boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"},paddingBottom:"10px"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14,marginBottom:"25px"},question:{marginBottom:"25px"},hide:{display:"none"},red:{color:"red"},green:{color:"#00ff00"},yellow:{color:"yellow"},largeIcon:{width:60,height:60}}}))(rt),lt=n(173),ht=function(t){Object(m.a)(n,t);var e=Object(f.a)(n);function n(t){var s;return Object(d.a)(this,n),(s=e.call(this,t)).getData=function(){fetch("https://questrom.herokuapp.com/exams",{credentials:"include",crossDomain:!0}).then((function(t){return t.json()})).then((function(t){s.setState({exams_all:t}),s.setState({exams:t}),console.log(t)}))},s.setState({}),s.state={exams:[],search:"",exams_all:[]},s}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.getData()}},{key:"callback",value:function(t){console.log(t)}},{key:"handleSearch",value:function(t){this.setState({search:t.target.value});for(var e=[],n=0;n<this.state.exams_all.length;n++)this.state.exams_all[n].name.includes(t.target.value)&&e.push(this.state.exams_all[n]);this.setState({exams:e})}},{key:"render",value:function(){var t=this;return Object(L.jsxs)("div",{className:this.props.classes.main,children:[Object(L.jsx)("input",{type:"text",value:this.state.search,onChange:function(e){return t.handleSearch(e)}}),Object(L.jsx)(lt.a,{container:!0,spacing:2,className:this.props.classes.grid,children:this.state.exams.length>0&&this.state.exams.map((function(t,e){return Object(L.jsx)(ct,{data:t},t._id)}))})]})}}]),n}(s.Component),ut=Object(k.a)((function(t){return{root:{width:"100%",backgroundColor:"rgba(10,10,10,0.5)",color:"white"},questions:{marginTop:"20px",margin:"auto",maxWidth:800},timer:{fontSize:20},result:{marginTop:"80px",margin:15,textAlign:"center"},hide:{display:"none"},backdrop:{zIndex:t.zIndex.drawer+1,color:"#fff"},exams:{display:"grid",gridTemplateColumns:"auto auto auto",padding:"10px"},grid:{margin:"10px"}}}))(ht),pt=function(t){Object(m.a)(n,t);var e=Object(f.a)(n);function n(t){var s;return Object(d.a)(this,n),(s=e.call(this,t)).setState({}),s}return Object(j.a)(n,[{key:"componentDidMount",value:function(){window.location="/exam"}},{key:"render",value:function(){return Object(L.jsx)("div",{children:"Redirecting..."})}}]),n}(s.Component),dt=Object(k.a)((function(t){return{root:{width:"100%",backgroundColor:"rgba(10,10,10,0.5)",color:"white"},questions:{marginTop:"20px",margin:"auto",maxWidth:800},timer:{fontSize:20},result:{marginTop:"80px",margin:15,textAlign:"center"},hide:{display:"none"},backdrop:{zIndex:t.zIndex.drawer+1,color:"#fff"}}}))(pt),jt=n(181),mt=n(175),ft=function(){var t=Object(l.a)({palette:{mode:"dark",primary:u.a,secondary:p.a}}),e=Object(l.a)({palette:{type:"dark",grey:{800:"#000000",900:"#121212"}}});return e=Object(jt.a)(e),Object(L.jsxs)(mt.a,{theme:t,children:[Object(L.jsx)(h.a,{}),Object(L.jsx)(r.a,{children:Object(L.jsxs)(c.c,{children:[Object(L.jsx)(c.a,{exact:!0,path:"/",component:dt}),Object(L.jsx)(c.a,{exact:!0,path:"/question",component:H}),Object(L.jsx)(c.a,{exact:!0,path:"/exam",component:ut}),Object(L.jsx)(c.a,{exact:!0,path:"/exam/:id",component:ot})]})})]})},xt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,182)).then((function(e){var n=e.getCLS,s=e.getFID,a=e.getFCP,i=e.getLCP,o=e.getTTFB;n(t),s(t),a(t),i(t),o(t)}))};o.a.render(Object(L.jsx)(a.a.StrictMode,{children:Object(L.jsx)(ft,{})}),document.getElementById("root")),xt()}},[[120,1,2]]]);
//# sourceMappingURL=main.fc843383.chunk.js.map